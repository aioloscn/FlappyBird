{"version":3,"sources":["../main.js"],"names":["Object","defineProperty","exports","value","main","undefined","_createClass","defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","Constructor","protoProps","staticProps","prototype","_resourceLoader","require","_background","_dataStore","_director","_land","_classCallCheck","instance","TypeError","_this","canvas","document","getElementById","ctx","getContext","dataStore","getInstance","loader","resourceLoader","create","onLoaded","map","onResourceFirstLoaded","res","init","put","background","land","director","run"],"mappings":"AAAA;;AAEAA,OAAOC,cAAP,CAAsBC,OAAtB,EAA+B,YAA/B,EAA6C;AACzCC,WAAO;AADkC,CAA7C;AAGAD,QAAQE,IAAR,GAAeC,SAAf;;AAEA,IAAIC,eAAe,YAAY;AAAE,aAASC,gBAAT,CAA0BC,MAA1B,EAAkCC,KAAlC,EAAyC;AAAE,aAAK,IAAIC,IAAI,CAAb,EAAgBA,IAAID,MAAME,MAA1B,EAAkCD,GAAlC,EAAuC;AAAE,gBAAIE,aAAaH,MAAMC,CAAN,CAAjB,CAA2BE,WAAWC,UAAX,GAAwBD,WAAWC,UAAX,IAAyB,KAAjD,CAAwDD,WAAWE,YAAX,GAA0B,IAA1B,CAAgC,IAAI,WAAWF,UAAf,EAA2BA,WAAWG,QAAX,GAAsB,IAAtB,CAA4Bf,OAAOC,cAAP,CAAsBO,MAAtB,EAA8BI,WAAWI,GAAzC,EAA8CJ,UAA9C;AAA4D;AAAE,KAAC,OAAO,UAAUK,WAAV,EAAuBC,UAAvB,EAAmCC,WAAnC,EAAgD;AAAE,YAAID,UAAJ,EAAgBX,iBAAiBU,YAAYG,SAA7B,EAAwCF,UAAxC,EAAqD,IAAIC,WAAJ,EAAiBZ,iBAAiBU,WAAjB,EAA8BE,WAA9B,EAA4C,OAAOF,WAAP;AAAqB,KAAhN;AAAmN,CAA9hB,EAAnB;;AAEA,IAAII,kBAAkBC,QAAQ,6BAAR,CAAtB;;AAEA,IAAIC,cAAcD,QAAQ,4BAAR,CAAlB;;AAEA,IAAIE,aAAaF,QAAQ,wBAAR,CAAjB;;AAEA,IAAIG,YAAYH,QAAQ,kBAAR,CAAhB;;AAEA,IAAII,QAAQJ,QAAQ,sBAAR,CAAZ;;AAEA,SAASK,eAAT,CAAyBC,QAAzB,EAAmCX,WAAnC,EAAgD;AAAE,QAAI,EAAEW,oBAAoBX,WAAtB,CAAJ,EAAwC;AAAE,cAAM,IAAIY,SAAJ,CAAc,mCAAd,CAAN;AAA2D;AAAE;;AAEzJ,IAAIzB,OAAOF,QAAQE,IAAR,GAAe,YAAY;AAClC,aAASA,IAAT,GAAgB;AACZ,YAAI0B,QAAQ,IAAZ;;AAEAH,wBAAgB,IAAhB,EAAsBvB,IAAtB;;AAEA,aAAK2B,MAAL,GAAcC,SAASC,cAAT,CAAwB,aAAxB,CAAd;AACA,aAAKC,GAAL,GAAW,KAAKH,MAAL,CAAYI,UAAZ,CAAuB,IAAvB,CAAX;AACA,aAAKC,SAAL,GAAiBZ,WAAWY,SAAX,CAAqBC,WAArB,EAAjB;AACA,YAAIC,SAASjB,gBAAgBkB,cAAhB,CAA+BC,MAA/B,EAAb;AACAF,eAAOG,QAAP,CAAgB,UAAUC,GAAV,EAAe;AAC3B,mBAAOZ,MAAMa,qBAAN,CAA4BD,GAA5B,CAAP;AACH,SAFD;AAGH;;AAEDpC,iBAAaF,IAAb,EAAmB,CAAC;AAChBY,aAAK,uBADW;AAEhBb,eAAO,SAASwC,qBAAT,CAA+BD,GAA/B,EAAoC;AACvC,iBAAKN,SAAL,CAAeF,GAAf,GAAqB,KAAKA,GAA1B;AACA,iBAAKE,SAAL,CAAeQ,GAAf,GAAqBF,GAArB;AACA,iBAAKG,IAAL;AACH;AANe,KAAD,EAOhB;AACC7B,aAAK,MADN;AAECb,eAAO,SAAS0C,IAAT,GAAgB;AACnB,iBAAKT,SAAL,CAAeU,GAAf,CAAmB,YAAnB,EAAiCvB,YAAYwB,UAA7C,EAAyDD,GAAzD,CAA6D,MAA7D,EAAqEpB,MAAMsB,IAA3E;AACAvB,sBAAUwB,QAAV,CAAmBZ,WAAnB,GAAiCa,GAAjC;AACH;AALF,KAPgB,CAAnB;;AAeA,WAAO9C,IAAP;AACH,CA/ByB,EAA1B;AAgCA","file":"main.js","sourcesContent":["\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.main = undefined;\n\nvar _createClass = function () { function defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } } return function (Constructor, protoProps, staticProps) { if (protoProps) defineProperties(Constructor.prototype, protoProps); if (staticProps) defineProperties(Constructor, staticProps); return Constructor; }; }();\n\nvar _resourceLoader = require(\"./js/base/resourceLoader.js\");\n\nvar _background = require(\"./js/runtime/background.js\");\n\nvar _dataStore = require(\"./js/base/dataStore.js\");\n\nvar _director = require(\"./js/director.js\");\n\nvar _land = require(\"./js/runtime/land.js\");\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nvar main = exports.main = function () {\n    function main() {\n        var _this = this;\n\n        _classCallCheck(this, main);\n\n        this.canvas = document.getElementById('game_canvas');\n        this.ctx = this.canvas.getContext('2d');\n        this.dataStore = _dataStore.dataStore.getInstance();\n        var loader = _resourceLoader.resourceLoader.create();\n        loader.onLoaded(function (map) {\n            return _this.onResourceFirstLoaded(map);\n        });\n    }\n\n    _createClass(main, [{\n        key: \"onResourceFirstLoaded\",\n        value: function onResourceFirstLoaded(map) {\n            this.dataStore.ctx = this.ctx;\n            this.dataStore.res = map;\n            this.init();\n        }\n    }, {\n        key: \"init\",\n        value: function init() {\n            this.dataStore.put('background', _background.background).put('land', _land.land);\n            _director.director.getInstance().run();\n        }\n    }]);\n\n    return main;\n}();\n//# sourceMappingURL=main.js.map"]}