{"version":3,"sources":["../../../js/player/birds.js"],"names":["birds","image","sprite","getImage","width","height","clippingX","clippingY","clippingWidth","clippingHeight","birdX","window","innerWidth","birdsX","birdY","innerHeight","birdsY","birdWidth","birdsWidth","birdHeight","birdsHeight","y","index","count","time","speed","Math","floor","g","offsetUp","offsetY","i","img"],"mappings":"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","file":"birds.js","sourcesContent":["// 循环3张小鸟图片\r\nimport {sprite} from \"../base/sprite.js\";\r\n\r\nexport class birds extends sprite {\r\n\r\n    constructor() {\r\n        const image = sprite.getImage('birds');\r\n        super(image, 0, 0, image.width, image.height, 0, 0, image.width, image.height);\r\n\r\n        //  数组存储小鸟的三种状态\r\n        this.clippingX = [9, 9 + 34 + 18, 9 + 34 + 18 + 34 + 18];\r\n        this.clippingY = [10, 10, 10];\r\n        this.clippingWidth = [34, 34, 34];\r\n        this.clippingHeight = [24, 24, 24];\r\n        this.birdX = window.innerWidth / 4;\r\n        this.birdsX = [this.birdX, this.birdX, this.birdX];\r\n        this.birdY = window.innerHeight / 2;\r\n        this.birdsY = [this.birdY, this.birdY, this.birdY];\r\n        this.birdWidth = 34;\r\n        this.birdsWidth = [this.birdWidth, this.birdWidth, this.birdWidth];\r\n        this.birdHeight = 24;\r\n        this.birdsHeight = [this.birdHeight, this.birdHeight, this.birdHeight];\r\n        this.y = [this.birdY, this.birdY, this.birdY];\r\n        this.index = 0;\r\n        this.count = 0;\r\n        this.time = 0;\r\n    }\r\n\r\n    draw() {\r\n        // 切换小鸟图片的速度\r\n        const speed = .2;\r\n        this.count = this.count + speed;\r\n        if (this.index >= 2) {\r\n            this.count = 0;\r\n        }\r\n        this.index = Math.floor(this.count);\r\n\r\n        const g = 0.98 / 2.4;\r\n        // 向上的偏移量\r\n        const offsetUp = 30;\r\n        // 小鸟的位移\r\n        const offsetY = (g * this.time * (this.time - offsetUp)) /2;\r\n\r\n        for (let i = 0; i <= 2; i++) {\r\n            this.birdsY[i] = this.y[i] + offsetY;\r\n        }\r\n        this.time++;\r\n\r\n        super.draw(this.img, this.clippingX[this.index], this.clippingY[this.index], this.clippingWidth[this.index],\r\n            this.clippingHeight[this.index], this.birdsX[this.index], this.birdsY[this.index], this.birdsWidth[this.index], this.birdsHeight[this.index]);\r\n    }\r\n}"]}